<div xmlns="http://www.w3.org/1999/xhtml" xmlns:sdb="http://santedb.org/applet"
    oc-lazy-load="{ name: 'SanteGuardActivityLogController', files: ['/org.santedb.sg/controllers/widgets/activityLog.js'] }">
    <sdb:widget name="org.santedb.sg.user.admin.activityLog" type="Tab" context="org.santedb.securityUser.admin"
        order="5000">
        <sdb:demand>1.3.6.1.4.1.33349.3.1.5.9.2.0.11</sdb:demand>
        <sdb:icon>fas fa-list-alt</sdb:icon>
        <sdb:description>SanteGaurd Activity Log</sdb:description>
        <sdb:guard>!scopedObject.tag || scopedObject.tag["$upstream"] != "true"</sdb:guard>

    </sdb:widget>
    <div ng-controller="SanteGuardActivityLogController" class="row">
        <div class="col-12">
            <entity-table id="SanteGuardActivityLog" type="Audit" search-field="object.id"
                i18n-prefix="'ui.model.audit.'"
                render="{ outcome: 'renderOutcome', event: 'renderEvent', action: 'renderAction',  timestamp : 'renderTimestamp' }"
                default-query="{ 'actor.uname' : scopedObject.entity.userName }"
                properties="[ 'action', 'event', 'timestamp', 'outcome' ]"
                sort="{ action: 'action', event: 'event', outcome: 'outcome', timestamp: 'timestamp' }" item-actions="[
            { name: 'detail', action: 'viewAudit', demand: '1.3.6.1.4.1.33349.3.1.5.9.2.0.11', className: 'btn-primary', icon: 'fa fa-ellipsis-v' }
            ]" button-bar="'#extendedAuditFilter'">

            </entity-table>
        </div>
    </div>
</div>